{% load extras %}

{% if 'sort_by='|add:order_name in request.get_full_path %}
    <strong><a class="sort-by nav-link" href="{% search_with_querystring request sort_by=order_name %}" data='sort_by={{order_name}}'>
        {{order_name|title}}
        {% search_with_querystring request sort_by=order_name %}
    </a></strong>

    <!-- Add an icon to indicate direction of sort -->
    {% if 'sort_by=date' in request.get_full_path or 'sort_by=title' in request.get_full_path %}
        {% sort_direction request as dir %}
        <strong><a class="nav-link assort" href="{% search_with_querystring request sort_by=order_name order_by=dir %}" data='sort_by={{order_name}}'>
            <i class="fa fa-sort-amount-{{ dir }}" aria-hidden="true"></i>
        </a></strong>
    {% endif %}

{% else %}
    <a class="sort-by nav-link" href="{% search_with_querystring request sort_by=order_name %}" data='sort_by={{order_name}}'>
        {{order_name|title}}
        {% search_with_querystring request sort_by=order_name %}
    </a>
{% endif %}
